InVzZSBjbGllbnQiCgppbXBvcnQgeyBDb21wb25lbnRQcm9wcywgY3JlYXRl
Q29udGV4dCwgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwg
dXNlU3RhdGUsIEtleWJvYXJkRXZlbnQgfSBmcm9tICJyZWFjdCIKaW1wb3J0
IHVzZUVtYmxhQ2Fyb3VzZWwsIHsKICB0eXBlIFVzZUVtYmxhQ2Fyb3VzZWxU
eXBlLAp9IGZyb20gImVtYmxhLWNhcm91c2VsLXJlYWN0IgppbXBvcnQgQXJy
b3dMZWZ0IGZyb20gImx1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9hcnJv
dy1sZWZ0IgppbXBvcnQgQXJyb3dSaWdodCBmcm9tICJsdWNpZGUtcmVhY3Qv
ZGlzdC9lc20vaWNvbnMvYXJyb3ctcmlnaHQiCgppbXBvcnQgeyBjbiB9IGZy
b20gIkAvbGliL3V0aWxzIgppbXBvcnQgeyBCdXR0b24gfSBmcm9tICJAL2Nv
bXBvbmVudHMvdWkvYnV0dG9uIgoKdHlwZSBDYXJvdXNlbEFwaSA9IFVzZUVt
YmxhQ2Fyb3VzZWxUeXBlWzFdCnR5cGUgVXNlQ2Fyb3VzZWxQYXJhbWV0ZXJz
ID0gUGFyYW1ldGVyczx0eXBlb2YgdXNlRW1ibGFDYXJvdXNlbD4KdHlwZSBD
YXJvdXNlbE9wdGlvbnMgPSBVc2VDYXJvdXNlbFBhcmFtZXRlcnNbMF0KdHlw
ZSBDYXJvdXNlbFBsdWdpbiA9IFVzZUNhcm91c2VsUGFyYW1ldGVyc1sxXQoK
dHlwZSBDYXJvdXNlbFByb3BzID0gewogIG9wdHM/OiBDYXJvdXNlbE9wdGlv
bnMKICBwbHVnaW5zPzogQ2Fyb3VzZWxQbHVnaW4KICBvcmllbnRhdGlvbj86
ICJob3Jpem9udGFsIiB8ICJ2ZXJ0aWNhbCIKICBzZXRBcGk/OiAoYXBpOiBD
YXJvdXNlbEFwaSkgPT4gdm9pZAp9Cgp0eXBlIENhcm91c2VsQ29udGV4dFBy
b3BzID0gewogIGNhcm91c2VsUmVmOiBSZXR1cm5UeXBlPHR5cGVvZiB1c2VF
bWJsYUNhcm91c2VsPlswXQogIGFwaTogUmV0dXJuVHlwZTx0eXBlb2YgdXNl
RW1ibGFDYXJvdXNlbD5bMV0KICBzY3JvbGxQcmV2OiAoKSA9PiB2b2lkCiAg
c2Nyb2xsTmV4dDogKCkgPT4gdm9pZAogIGNhblNjcm9sbFByZXY6IGJvb2xl
YW4KICBjYW5TY3JvbGxOZXh0OiBib29sZWFuCn0gJiBDYXJvdXNlbFByb3Bz
Cgpjb25zdCBDYXJvdXNlbENvbnRleHQgPSBjcmVhdGVDb250ZXh0PENhcm91
c2VsQ29udGV4dFByb3BzIHwgbnVsbD4obnVsbCkKCmZ1bmN0aW9uIHVzZUNh
cm91c2VsKCkgewogIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KENhcm91
c2VsQ29udGV4dCkKCiAgaWYgKCFjb250ZXh0KSB7CiAgICB0aHJvdyBuZXcg
RXJyb3IoInVzZUNhcm91c2VsIG11c3QgYmUgdXNlZCB3aXRoaW4gYSA8Q2Fy
b3VzZWwgLz4iKQogIH0KCiAgcmV0dXJuIGNvbnRleHQKfQoKZnVuY3Rpb24g
Q2Fyb3VzZWwoewogIG9yaWVudGF0aW9uID0gImhvcml6b250YWwiLAogIG9w
dHMsCiAgc2V0QXBpLAogIHBsdWdpbnMsCiAgY2xhc3NOYW1lLAogIGNoaWxk
cmVuLAogIC4uLnByb3BzCn06IENvbXBvbmVudFByb3BzPCJkaXYiPiAmIENh
cm91c2VsUHJvcHMpIHsKICBjb25zdCBbY2Fyb3VzZWxSZWYsIGFwaV0gPSB1
c2VFbWJsYUNhcm91c2VsKAogICAgewogICAgICAuLi5vcHRzLAogICAgICBh
eGlzOiBvcmllbnRhdGlvbiA9PT0gImhvcml6b250YWwiID8gIngiIDogInki
LAogICAgfSwKICAgIHBsdWdpbnMKICApCiAgY29uc3QgW2NhblNjcm9sbFBy
ZXYsIHNldENhblNjcm9sbFByZXZdID0gdXNlU3RhdGUoZmFsc2UpCiAgY29u
c3QgW2NhblNjcm9sbE5leHQsIHNldENhblNjcm9sbE5leHRdID0gdXNlU3Rh
dGUoZmFsc2UpCgogIGNvbnN0IG9uU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGFw
aTogQ2Fyb3VzZWxBcGkpID0+IHsKICAgIGlmICghYXBpKSByZXR1cm4KICAg
IHNldENhblNjcm9sbFByZXYoYXBpLmNhblNjcm9sbFByZXYoKSkKICAgIHNl
dENhblNjcm9sbE5leHQoYXBpLmNhblNjcm9sbE5leHQoKSkKICB9LCBbXSkK
CiAgY29uc3Qgc2Nyb2xsUHJldiA9IHVzZUNhbGxiYWNrKCgpID0+IHsKICAg
IGFwaT8uc2Nyb2xsUHJldigpCiAgfSwgW2FwaV0pCgogIGNvbnN0IHNjcm9s
bE5leHQgPSB1c2VDYWxsYmFjaygoKSA9PiB7CiAgICBhcGk/LnNjcm9sbE5l
eHQoKQogIH0sIFthcGldKQoKICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNl
Q2FsbGJhY2soCiAgICAoZXZlbnQ6IEtleWJvYXJkRXZlbnQ8SFRNTERpdkVs
ZW1lbnQ+KSA9PiB7CiAgICAgIGlmIChldmVudC5rZXkgPT09ICJBcnJvd0xl
ZnQiKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKQogICAgICAg
IHNjcm9sbFByZXYoKQogICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0g
IkFycm93UmlnaHQiKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQo
KQogICAgICAgIHNjcm9sbE5leHQoKQogICAgICB9CiAgICB9LAogICAgW3Nj
cm9sbFByZXYsIHNjcm9sbE5leHRdCiAgKQoKICB1c2VFZmZlY3QoKCkgPT4g
ewogICAgaWYgKCFhcGkgfHwgIXNldEFwaSkgcmV0dXJuCiAgICBzZXRBcGko
YXBpKQogIH0sIFthcGksIHNldEFwaV0pCgogIHVzZUVmZmVjdCgoKSA9PiB7
CiAgICBpZiAoIWFwaSkgcmV0dXJuCiAgICBvblNlbGVjdChhcGkpCiAgICBh
cGkub24oInJlSW5pdCIsIG9uU2VsZWN0KQogICAgYXBpLm9uKCJzZWxlY3Qi
LCBvblNlbGVjdCkKCiAgICByZXR1cm4gKCkgPT4gewogICAgICBhcGk/Lm9m
Zigic2VsZWN0Iiwgb25TZWxlY3QpCiAgICB9CiAgfSwgW2FwaSwgb25TZWxl
Y3RdKQoKICByZXR1cm4gKAogICAgPENhcm91c2VsQ29udGV4dC5Qcm92aWRl
cgogICAgICB2YWx1ZT17ewogICAgICAgIGNhcm91c2VsUmVmLAogICAgICAg
IGFwaTogYXBpLAogICAgICAgIG9wdHMsCiAgICAgICAgb3JpZW50YXRpb246
CiAgICAgICAgICBvcmllbnRhdGlvbiB8fCAob3B0cz8uYXhpcyA9PT0gInki
ID8gInZlcnRpY2FsIiA6ICJob3Jpem9udGFsIiksCiAgICAgICAgc2Nyb2xs
UHJldiwKICAgICAgICBzY3JvbGxOZXh0LAogICAgICAgIGNhblNjcm9sbFBy
ZXYsCiAgICAgICAgY2FuU2Nyb2xsTmV4dCwKICAgICAgfX0KICAgID4KICAg
ICAgPGRpdgogICAgICAgIG9uS2V5RG93bkNhcHR1cmU9e2hhbmRsZUtleURv
d259CiAgICAgICAgY2xhc3NOYW1lPXtjbigicmVsYXRpdmUiLCBjbGFzc05h
bWUpfQogICAgICAgIHJvbGU9InJlZ2lvbiIKICAgICAgICBhcmlhLXJvbGVk
ZXNjcmlwdGlvbj0iY2Fyb3VzZWwiCiAgICAgICAgZGF0YS1zbG90PSJjYXJv
dXNlbCIKICAgICAgICB7Li4ucHJvcHN9CiAgICAgID4KICAgICAgICB7Y2hp
bGRyZW59CiAgICAgIDwvZGl2PgogICAgPC9DYXJvdXNlbENvbnRleHQuUHJv
dmlkZXI+CiAgKQp9CgpmdW5jdGlvbiBDYXJvdXNlbENvbnRlbnQoeyBjbGFz
c05hbWUsIC4uLnByb3BzIH06IENvbXBvbmVudFByb3BzPCJkaXYiPikgewog
IGNvbnN0IHsgY2Fyb3VzZWxSZWYsIG9yaWVudGF0aW9uIH0gPSB1c2VDYXJv
dXNlbCgpCgogIHJldHVybiAoCiAgICA8ZGl2CiAgICAgIHJlZj17Y2Fyb3Vz
ZWxSZWZ9CiAgICAgIGNsYXNzTmFtZT0ib3ZlcmZsb3ctaGlkZGVuIgogICAg
ICBkYXRhLXNsb3Q9ImNhcm91c2VsLWNvbnRlbnQiCiAgICA+CiAgICAgIDxk
aXYKICAgICAgICBjbGFzc05hbWU9e2NuKAogICAgICAgICAgImZsZXgiLAog
ICAgICAgICAgb3JpZW50YXRpb24gPT09ICJob3Jpem9udGFsIiA/ICItbWwt
NCIgOiAiLW10LTQgZmxleC1jb2wiLAogICAgICAgICAgY2xhc3NOYW1lCiAg
ICAgICAgKX0KICAgICAgICB7Li4ucHJvcHN9CiAgICAgIC8+CiAgICA8L2Rp
dj4KICApCn0KCmZ1bmN0aW9uIENhcm91c2VsSXRlbSh7IGNsYXNzTmFtZSwg
Li4ucHJvcHMgfTogQ29tcG9uZW50UHJvcHM8ImRpdiI+KSB7CiAgY29uc3Qg
eyBvcmllbnRhdGlvbiB9ID0gdXNlQ2Fyb3VzZWwoKQoKICByZXR1cm4gKAog
ICAgPGRpdgogICAgICByb2xlPSJncm91cCIKICAgICAgYXJpYS1yb2xlZGVz
Y3JpcHRpb249InNsaWRlIgogICAgICBkYXRhLXNsb3Q9ImNhcm91c2VsLWl0
ZW0iCiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgIm1pbi13LTAgc2hy
aW5rLTAgZ3Jvdy0wIGJhc2lzLWZ1bGwiLAogICAgICAgIG9yaWVudGF0aW9u
ID09PSAiaG9yaXpvbnRhbCIgPyAicGwtNCIgOiAicHQtNCIsCiAgICAgICAg
Y2xhc3NOYW1lCiAgICAgICl9CiAgICAgIHsuLi5wcm9wc30KICAgIC8+CiAg
KQp9CgpmdW5jdGlvbiBDYXJvdXNlbFByZXZpb3VzKHsKICBjbGFzc05hbWUs
CiAgdmFyaWFudCA9ICJvdXRsaW5lIiwKICBzaXplID0gImljb24iLAogIC4u
LnByb3BzCn06IENvbXBvbmVudFByb3BzPHR5cGVvZiBCdXR0b24+KSB7CiAg
Y29uc3QgeyBvcmllbnRhdGlvbiwgc2Nyb2xsUHJldiwgY2FuU2Nyb2xsUHJl
diB9ID0gdXNlQ2Fyb3VzZWwoKQoKICByZXR1cm4gKAogICAgPEJ1dHRvbgog
ICAgICBkYXRhLXNsb3Q9ImNhcm91c2VsLXByZXZpb3VzIgogICAgICB2YXJp
YW50PXt2YXJpYW50fQogICAgICBzaXplPXtzaXplfQogICAgICBjbGFzc05h
bWU9e2NuKAogICAgICAgICJhYnNvbHV0ZSBzaXplLTggcm91bmRlZC1mdWxs
IiwKICAgICAgICBvcmllbnRhdGlvbiA9PT0gImhvcml6b250YWwiCiAgICAg
ICAgICA/ICJ0b3AtMS8yIC1sZWZ0LTEyIC10cmFuc2xhdGUteS0xLzIiCiAg
ICAgICAgICA6ICItdG9wLTEyIGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIg
cm90YXRlLTkwIiwKICAgICAgICBjbGFzc05hbWUKICAgICAgKX0KICAgICAg
ZGlzYWJsZWQ9eyFjYW5TY3JvbGxQcmV2fQogICAgICBvbkNsaWNrPXtzY3Jv
bGxQcmV2fQogICAgICB7Li4ucHJvcHN9CiAgICA+CiAgICAgIDxBcnJvd0xl
ZnQgLz4KICAgICAgPHNwYW4gY2xhc3NOYW1lPSJzci1vbmx5Ij5QcmV2aW91
cyBzbGlkZTwvc3Bhbj4KICAgIDwvQnV0dG9uPgogICkKfQoKZnVuY3Rpb24g
Q2Fyb3VzZWxOZXh0KHsKICBjbGFzc05hbWUsCiAgdmFyaWFudCA9ICJvdXRs
aW5lIiwKICBzaXplID0gImljb24iLAogIC4uLnByb3BzCn06IENvbXBvbmVu
dFByb3BzPHR5cGVvZiBCdXR0b24+KSB7CiAgY29uc3QgeyBvcmllbnRhdGlv
biwgc2Nyb2xsTmV4dCwgY2FuU2Nyb2xsTmV4dCB9ID0gdXNlQ2Fyb3VzZWwo
KQoKICByZXR1cm4gKAogICAgPEJ1dHRvbgogICAgICBkYXRhLXNsb3Q9ImNh
cm91c2VsLW5leHQiCiAgICAgIHZhcmlhbnQ9e3ZhcmlhbnR9CiAgICAgIHNp
emU9e3NpemV9CiAgICAgIGNsYXNzTmFtZT17Y24oCiAgICAgICAgImFic29s
dXRlIHNpemUtOCByb3VuZGVkLWZ1bGwiLAogICAgICAgIG9yaWVudGF0aW9u
ID09PSAiaG9yaXpvbnRhbCIKICAgICAgICAgID8gInRvcC0xLzIgLXJpZ2h0
LTEyIC10cmFuc2xhdGUteS0xLzIiCiAgICAgICAgICA6ICItYm90dG9tLTEy
IGxlZnQtMS8yIC10cmFuc2xhdGUteC0xLzIgcm90YXRlLTkwIiwKICAgICAg
ICBjbGFzc05hbWUKICAgICAgKX0KICAgICAgZGlzYWJsZWQ9eyFjYW5TY3Jv
bGxOZXh0fQogICAgICBvbkNsaWNrPXtzY3JvbGxOZXh0fQogICAgICB7Li4u
cHJvcHN9CiAgICA+CiAgICAgIDxBcnJvd1JpZ2h0IC8+CiAgICAgIDxzcGFu
IGNsYXNzTmFtZT0ic3Itb25seSI+TmV4dCBzbGlkZTwvc3Bhbj4KICAgIDwv
QnV0dG9uPgogICkKfQoKZXhwb3J0IHsKICB0eXBlIENhcm91c2VsQXBpLAog
IENhcm91c2VsLAogIENhcm91c2VsQ29udGVudCwKICBDYXJvdXNlbEl0ZW0s
CiAgQ2Fyb3VzZWxQcmV2aW91cywKICBDYXJvdXNlbE5leHQsCn0K
